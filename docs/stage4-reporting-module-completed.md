# ???? 4: Reporting ?? ????????? ?????? - ????????

## ????? ????

???? 4 ???? ??????? ????????. ?????? Reporting ???? ??????????? ?? ????????? ?????? ? ?????? ????????????, ?? ??????? Application ???, API ????????? ?? UI ??????????, ??? ?????????? ???? ????? HTTP API ??????? ??????? ??????? ?? ????????????.

## ??????????? ??????????

### Application Layer
- **DTO Models** (`src/Modules/Reporting/Application/DTOs/`):
  - `DashboardStatsDto` - ?????????? ????????
  - `PeriodStatsDto` - ?????????? ?? ??????
  - `QuotaUsageDto` - ???????????? ????
  - `ServiceAccountStatsDto`, `UrlRequestStatsDto` - ????????? DTO

- **Query Service** (`src/Modules/Reporting/Application/`):
  - `IReportingQueryService` - ????????? ??????? ???????
  - `ReportingQueryService` - ?????????? ??????? ????????? ?????
  - `DependencyInjectionExtensions` - ?????????? ????????

### API Layer
- **API Endpoints** (`src/Modules/Reporting/Api/`):
  - `StatsEndpoints` - ????????? ??? ??????????
  - `ModuleRegistration` - ?????????? ?????? ? ??????????

- **API Routes**:
  - `GET /api/reporting/dashboard` - ?????????? ????????
  - `GET /api/reporting/period?from=&to=` - ?????????? ?? ??????
  - `GET /api/reporting/quota?date=` - ???????????? ????

### UI Layer
- **HTTP Client** (`src/Modules/Reporting/Ui/Services/`):
  - `IReportingHttpClient` - ????????? HTTP ???????
  - `ReportingHttpClient` - ?????????? ??????? ??? API

- **Updated Components**:
  - `DashboardPage.razor.cs` - ???????? ??? ???????????? HTTP API ??????? ??????? ??????? ?? ????????????
  - `DependencyInjectionExtensions` - ?????? ?????????? HTTP ???????

## ???????????? ????????

1. **?????????? ?????????????????**: UI ?????? ?? ??? ??????? ??????? ?? ???????? ????????????
2. **API-first ??????**: ??? ???? ???????? ????? REST API
3. **????????????**: API ????????? ????? ????? ????????? ?????????
4. **???????????**: Reporting ?????? ????? ???????? ?????????????
5. **???????? ??????????????**: ????? ???????? ???? ????????? ?? ??????????

## ????? ? ??????

### ???? ?????:
- `src/Modules/Reporting/Application/DTOs/DashboardStatsDto.cs`
- `src/Modules/Reporting/Application/DTOs/PeriodStatsDto.cs`
- `src/Modules/Reporting/Application/Queries/ReportingQueries.cs`
- `src/Modules/Reporting/Application/Services/ReportingQueryService.cs`
- `src/Modules/Reporting/Application/DependencyInjectionExtensions.cs`
- `src/Modules/Reporting/Api/Endpoints/StatsEndpoints.cs`
- `src/Modules/Reporting/Ui/Services/ReportingHttpClient.cs`
- `tests/Integration/Reporting/ReportingApiTests.cs`

### ???????? ?????:
- `src/Modules/Reporting/Application/WebSearchIndexing.Modules.Reporting.Application.csproj` - ?????? ????????? ?? Catalog ? Core ??????
- `src/Modules/Reporting/Api/ModuleRegistration.cs` - ?????? API ?????????
- `src/Modules/Reporting/Ui/WebSearchIndexing.Modules.Reporting.Ui.csproj` - ???????? ????????? ?? ???????
- `src/Modules/Reporting/Ui/DependencyInjectionExtensions.cs` - ?????? HTTP ??????
- `src/Modules/Reporting/Ui/Pages/Dashboard/DashboardPage.razor.cs` - ?????????? ?? ???????????? HTTP API

## ??????????

?????? ??????? ?????????? ??? ???????. ???????? ???????????? ????? ??? ????????? API ??????????.

## ???????? ?????

???? 4 ????????? ???????. ?????? Reporting ????? ? ????????? ??????? ? ?????? ????????????. ??????? ?? ???????? ?? ???? 5 - "???????: ??????, ????????????, ???????".
